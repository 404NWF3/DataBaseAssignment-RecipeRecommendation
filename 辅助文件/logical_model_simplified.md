# 数据库逻辑模型（简化版）

下划线表示主键，斜体表示外键

1. **USERS** (<u>user_id</u>, username, email, password_hash, first_name, last_name, bio, profile_image, join_date, last_login, account_status, total_followers, total_recipes, created_at, updated_at)
2. **INGREDIENTS** (<u>ingredient_id</u>, ingredient_name, category, description, created_at)
3. **UNITS** (<u>unit_id</u>, unit_name, abbreviation, description, created_at)
4. **ALLERGENS** (<u>allergen_id</u>, allergen_name, description, created_at)
5. **TAGS** (<u>tag_id</u>, tag_name, tag_description, created_at)
6. **RECIPES** (<u>recipe_id</u>, *user_id*, recipe_name, description, cuisine_type, meal_type, difficulty_level, prep_time, cook_time, total_time, servings, calories_per_serving, image_url, is_published, is_deleted, view_count, rating_count, average_rating, created_at, updated_at)
7. **RECIPE_INGREDIENTS** (<u>*recipe_id*</u>, <u>*ingredient_id*</u>, *unit_id*, quantity, notes, added_at)
8. **COOKING_STEPS** (<u>step_id</u>, *recipe_id*, step_number, instruction, time_required, image_url)
9. **NUTRITION_INFO** (<u>nutrition_id</u>, *recipe_id*, calories, protein_grams, carbs_grams, fat_grams, fiber_grams, sugar_grams, sodium_mg)
10. **INGREDIENT_ALLERGENS** (<u>*ingredient_id*</u>, <u>*allergen_id*</u>)
11. **INGREDIENT_SUBSTITUTIONS** (<u>*original_ingredient_id*</u>, <u>*substitute_ingredient_id*</u>, substitution_ratio, notes, added_at)
12. **RATINGS** (<u>rating_id</u>, *user_id*, *recipe_id*, rating_value, review_text, rating_date)
13. **RATING_HELPFULNESS** (<u>*rating_id*</u>, <u>*user_id*</u>, helpful_votes, voted_at)
14. **COMMENTS** (<u>comment_id</u>, *recipe_id*, *user_id*, *parent_comment_id*, comment_text, is_deleted, created_at, updated_at)
15. **COMMENT_HELPFULNESS** (<u>*comment_id*</u>, <u>*user_id*</u>, voted_at)
16. **SAVED_RECIPES** (<u>saved_recipe_id</u>, *user_id*, *recipe_id*, saved_at)
17. **FOLLOWERS** (<u>*user_id*</u>, <u>*follower_user_id*</u>, followed_at)
18. **USER_ALLERGIES** (<u>*user_id*</u>, <u>*allergen_id*</u>, added_at)
19. **RECIPE_TAGS** (<u>*recipe_id*</u>, <u>*tag_id*</u>, added_at)
20. **USER_ACTIVITY_LOG** (<u>activity_id</u>, *user_id*, activity_type, *recipe_id*, activity_description, activity_date)
21. **RECIPE_COLLECTIONS** (<u>collection_id</u>, *user_id*, collection_name, description, is_public, created_at, updated_at)
22. **COLLECTION_RECIPES** (<u>*collection_id*</u>, <u>*recipe_id*</u>, added_at)
23. **SHOPPING_LISTS** (<u>list_id</u>, *user_id*, list_name, created_at, updated_at)
24. **SHOPPING_LIST_ITEMS** (<u>*list_id*</u>, <u>*ingredient_id*</u>, quantity, *unit_id*, is_checked, added_at)
25. **MEAL_PLANS** (<u>plan_id</u>, *user_id*, plan_name, description, start_date, end_date, is_public, created_at, updated_at)
26. **MEAL_PLAN_ENTRIES** (<u>*plan_id*</u>, <u>*recipe_id*</u>, <u>meal_date</u>, meal_type, notes, added_at)
